#pragma once

/****************************************************************
 * Include
 ****************************************************************/
#include <d3d12.h>
#include <dxgi1_4.h>
#include "ComPtr.h"
#include "Mesh.h"


 /****************************************************************
  * IndexBuffer クラス
  ****************************************************************/
class IndexBuffer {

private:

	ComPtr<ID3D12Resource>   m_pIB;         /* インデックスバッファ */
	D3D12_INDEX_BUFFER_VIEW  m_IBV;         /* インデックスバッファビュー */
	uint32_t                 m_IndexCount;  /* インデックスの数 */

public:

	IndexBuffer();

	~IndexBuffer();


	/****************************************************************
	 * 初期化
	 ****************************************************************/
	bool Init(ID3D12Device* pDevice, const Mesh* mesh);


	/****************************************************************
	 * 終了処理
	 ****************************************************************/
	void Term();


	/****************************************************************
	 * インデックスバッファビューの取得
	 ****************************************************************/
	D3D12_INDEX_BUFFER_VIEW GetIBV() const;


	/****************************************************************
	 * インデックス数を取得
	 ****************************************************************/
	uint32_t GetIndexNum() const;
};